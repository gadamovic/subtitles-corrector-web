[defaults]
# Standard settings
inventory = ./ansible/hosts
host_key_checking = False
retry_files_enabled = False

# This addresses the "invalid characters" warning
force_valid_group_names = always

[ssh_connection]
# Pipelining is the big fix here. It executes commands without 
# many separate SSH transfers, which prevents the "No start of json char" 
# error caused by large module payloads.
pipelining = True

# Adds stability for long-running connections
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no

# If SFTP is blocked or fails on the EC2 side, this falls back to SCP
scp_if_ssh = True