(function(){"use strict";var n={8596:function(n,e,r){var t=r(5130),i=r(6768),o=r(4232);const l={id:"app"},u={key:0,src:"img/icons/loading_icon.gif",id:"loading_icon",width:"40px"},a={key:1,id:"download_link"},f=["href"],d={key:2,style:{color:"red"}};function c(n,e,r,c,s,h){return(0,i.uX)(),(0,i.CE)("div",l,[e[3]||(e[3]=(0,i.Lk)("h1",null,"Subtitle File Upload",-1)),(0,i.Lk)("form",{onSubmit:e[1]||(e[1]=(0,t.D$)(((...n)=>h.handleSubmit&&h.handleSubmit(...n)),["prevent"])),enctype:"multipart/form-data"},[(0,i.Lk)("input",{type:"file",id:"file_upload",name:"file",accept:".srt, .sub, .txt",onChange:e[0]||(e[0]=(...n)=>h.handleFileChange&&h.handleFileChange(...n))},null,32),e[2]||(e[2]=(0,i.Lk)("input",{type:"submit",value:"Upload"},null,-1))],32),e[4]||(e[4]=(0,i.Lk)("br",null,null,-1)),e[5]||(e[5]=(0,i.Lk)("br",null,null,-1)),s.loading?((0,i.uX)(),(0,i.CE)("img",u)):(0,i.Q3)("",!0),s.downloadLink?((0,i.uX)(),(0,i.CE)("div",a,[(0,i.Lk)("a",{href:s.downloadLink},"Download",8,f)])):(0,i.Q3)("",!0),s.error?((0,i.uX)(),(0,i.CE)("div",d,(0,o.v_)(s.error),1)):(0,i.Q3)("",!0)])}var s={name:"App",data(){return{file:null,loading:!1,downloadLink:"",error:null}},methods:{handleFileChange(n){this.file=n.target.files[0]},async handleSubmit(){if(!this.file)return void(this.error="Please select a file.");this.error=null,this.loading=!0,this.downloadLink="";const n=new FormData;n.append("file",this.file);try{const e=await fetch("/subtitles/api/rest/1.0/upload",{method:"POST",body:n});if(e.ok){const n=await e.text();this.downloadLink=n}else this.error="Submission failed!"}catch(e){console.error("Error:",e),this.error="An error occurred!"}finally{this.loading=!1}}}},h=r(1241);const p=(0,h.A)(s,[["render",c]]);var v=p;(0,t.Ef)(v).mount("#app")}},e={};function r(t){var i=e[t];if(void 0!==i)return i.exports;var o=e[t]={exports:{}};return n[t].call(o.exports,o,o.exports,r),o.exports}r.m=n,function(){var n=[];r.O=function(e,t,i,o){if(!t){var l=1/0;for(d=0;d<n.length;d++){t=n[d][0],i=n[d][1],o=n[d][2];for(var u=!0,a=0;a<t.length;a++)(!1&o||l>=o)&&Object.keys(r.O).every((function(n){return r.O[n](t[a])}))?t.splice(a--,1):(u=!1,o<l&&(l=o));if(u){n.splice(d--,1);var f=i();void 0!==f&&(e=f)}}return e}o=o||0;for(var d=n.length;d>0&&n[d-1][2]>o;d--)n[d]=n[d-1];n[d]=[t,i,o]}}(),function(){r.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return r.d(e,{a:e}),e}}(),function(){r.d=function(n,e){for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={524:0};r.O.j=function(e){return 0===n[e]};var e=function(e,t){var i,o,l=t[0],u=t[1],a=t[2],f=0;if(l.some((function(e){return 0!==n[e]}))){for(i in u)r.o(u,i)&&(r.m[i]=u[i]);if(a)var d=a(r)}for(e&&e(t);f<l.length;f++)o=l[f],r.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return r.O(d)},t=self["webpackChunkfrontend_vue"]=self["webpackChunkfrontend_vue"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=r.O(void 0,[504],(function(){return r(8596)}));t=r.O(t)})();
//# sourceMappingURL=app.6ebf6921.js.map